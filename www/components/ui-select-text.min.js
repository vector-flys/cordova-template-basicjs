"use strict";const UISelectText={DEFAULT_WIDTH:200,DEFAULT_HEIGHT:50};UISelectText.itemSelection,UISelectText.isFirstCreate=0,UISelectText.selectedColor="#FFF0C2",UISelectText.placeholder="Search",UISelectText.uiBackgroundColor="whitesmoke",UISelectText.create=function(e=0,t=0,o=UISelectText.DEFAULT_WIDTH,i=UISelectText.DEFAULT_HEIGHT){const c=createBox(e,t,o,i);return that.color=UISelectText.uiBackgroundColor,that.round=4,that.border=0,that.borderColor="black",that.onClick((function(e){c.itemList.length>0&&(UISelectText.itemSelection||createItemSelection(e))})),c.selectedIndex=-1,c.autoResize=0,c.itemList=[],c.onChangeFunc=function(){},c.txtName=createLabel(10,0,"auto"),c.add(that),that.text="",that.fontSize=20,that.height=that.fontSize+that.fontSize/2,that.onResize((function(e){e.center("top"),1==c.autoResize&&(c.width=e.width+50)})),c.boxMask=createBox(0,0,40,c.height),c.add(that),that.right=0,that.element.style.background="linear-gradient(to right, #FFFFFF00, "+UISelectText.uiBackgroundColor+")",c.imgArrow1=createImage(0,0,16,16),c.add(that),that.load("components/ui-select-text/arrow.svg"),that.right=8,that.opacity=.7,that.rotate=180,that.onLoad((function(e){e.center("top"),e.top-=7})),c.imgArrow2=createImage(0,0,16,16),c.add(that),that.load("components/ui-select-text/arrow.svg"),that.right=8,that.opacity=.7,that.onLoad((function(e){e.center("top"),e.top+=7})),c.createItemsByDataList=function(e){c.itemList=[...e],c.itemList.length>0?c.setSelectedIndex(0):c.setSelectedIndex(-1)},c.setSelectedIndex=function(e){e!=c.selectedIndex&&(e>=0&&e<c.itemList.length?(c.selectedIndex=e,c.txtName.text=c.itemList[c.selectedIndex].name,c.onChangeFunc(c,c.selectedIndex)):(c.selectedIndex=-1,c.txtName.text=""))},c.getSelectedIndex=function(){return c.selectedIndex},c.getSelectedId=function(){return c.itemList[c.selectedIndex].id},c.getSelectedName=function(){return c.itemList[c.selectedIndex].name},c.getIndexById=function(e){for(let t=0;t<c.itemList.length;t++)if(c.itemList[t].id==e)return t;return-1},c.setAutoResize=function(e){c.autoResize=e},c.onChange=function(e){c.onChangeFunc="function"==typeof e?e:function(){}},UISelectText.isFirstCreate||(page.onResize((function(){if(UISelectText.itemSelection){UISelectText.itemSelection.width=getDefaultContainerBox().width,UISelectText.itemSelection.height=getDefaultContainerBox().height,UISelectText.itemSelection.boxSearch.width=getDefaultContainerBox().width-40-30-10,UISelectText.itemSelection.boxSearch.txtSearch.width=UISelectText.itemSelection.boxSearch.width-80,UISelectText.itemSelection.boxItems.width=getDefaultContainerBox().width-10,UISelectText.itemSelection.boxItems.height=getDefaultContainerBox().height-110;for(let e=0;e<c.itemList.length;e++)UISelectText.itemSelection.boxItems["b"+e].width=getDefaultContainerBox().width-20,UISelectText.itemSelection.boxItems["b"+e].lblName.width=getDefaultContainerBox().width-70}})),UISelectText.isFirstCreate=1),makeBasicObject(c),c},UISelectText.setSelectedColor=function(e){UISelectText.selectedColor=e},UISelectText.setSearchInfoText=function(e){UISelectText.placeholder=e},UISelectText.setUIBackgroundColor=function(e){UISelectText.uiBackgroundColor=e};const createItemSelection=function(e){UISelectText.itemSelection=createBox(0,0,getDefaultContainerBox().width,getDefaultContainerBox().height),that.color="white",that.setMotion("top 0.3s, opacity 0.3s"),that.opacity=0,that.top=150,that.withMotion((function(e){e.top=0,e.opacity=1})),UISelectText.itemSelection.boxSearch=createBox(20,40),UISelectText.itemSelection.add(that),that.width=getDefaultContainerBox().width-40-30-10,that.height=50,that.color="whitesmoke",that.round=25,that.border=0,UISelectText.itemSelection.boxSearch.imgIcon=createImage(5,0,50,50),UISelectText.itemSelection.boxSearch.add(that),that.load("components/ui-select-text/search.svg"),that.opacity=.4,that.space=27,UISelectText.itemSelection.boxSearch.txtSearch=createTextBox(45,0),UISelectText.itemSelection.boxSearch.add(that),that.width=UISelectText.itemSelection.boxSearch.width-80,that.border=0,that.minimal=1,that.textColor="gray",that.color="whitesmoke",that.inputElement.setAttribute("placeholder",UISelectText.placeholder),UISelectText.itemSelection.boxCancel=createBox(0,50,30,30),UISelectText.itemSelection.add(that),that.right=20,that.color="#D8D8D8",that.round=15,that.onClick((function(e){UISelectText.itemSelection.close()})),UISelectText.itemSelection.boxCancel.imgCancel=createImage(8,8,14,14),UISelectText.itemSelection.boxCancel.add(that),that.load("components/ui-select-text/cancel.svg"),that.opacity=.5,UISelectText.itemSelection.boxItems=createBox(),UISelectText.itemSelection.add(that),that.left=10,that.bottom=0,that.width=getDefaultContainerBox().width-10,that.height=getDefaultContainerBox().height-110,that.color="white",that.border=0,that.borderColor="lightgray",that.scrollY=1,UISelectText.itemSelection.createItem=function(t){const o=createBox(10,0,getDefaultContainerBox().width-40,60);return that.index=t,that.round=4,that.border=0,that.color="white",that.borderColor="lightgray",that.element.style.position="relative",that.onClick(UISelectText.itemSelection.itemClicked),o.lblName=createLabel(30,17,getDefaultContainerBox().width-70,"auto"),o.add(that),that.text=e.itemList[t].name,that.textAlign="left",that.fontSize=20,that.textColor="#4A4A4A",that.onResize((function(e){e.center("top")})),makeBasicObject(o),o},UISelectText.itemSelection.itemClicked=function(t){e.selectedIndex>=0&&(UISelectText.itemSelection.boxItems["b"+e.selectedIndex].color="white"),t.color=UISelectText.selectedColor,e.setSelectedIndex(t.index),UISelectText.itemSelection.close()},UISelectText.itemSelection.close=function(){UISelectText.itemSelection.opacity=0,UISelectText.itemSelection.top=150,setTimeout((function(){UISelectText.itemSelection&&(UISelectText.itemSelection.remove(),UISelectText.itemSelection=null)}),300)},UISelectText.itemSelection.filter=function(){for(var t=UISelectText.itemSelection.boxSearch.txtSearch.text.toLowerCase(),o=0;o<e.itemList.length;o++){var i=UISelectText.itemSelection.boxItems["b"+o];e.itemList[o].name.toLowerCase().search(t)>-1?i.visible=1:i.visible=0}},UISelectText.itemSelection.boxSearch.txtSearch.inputElement.addEventListener("keyup",UISelectText.itemSelection.filter);for(let t=0;t<e.itemList.length;t++)UISelectText.itemSelection.boxItems["b"+t]=UISelectText.itemSelection.createItem(t),UISelectText.itemSelection.boxItems.add(that);e.selectedIndex>=0&&(UISelectText.itemSelection.boxItems["b"+e.selectedIndex].color=UISelectText.selectedColor)};